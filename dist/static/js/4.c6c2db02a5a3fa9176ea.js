webpackJsonp([4],{MoW3:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhFNjY4MzVFRDVDRjExRThBOTEwQ0ZCQzZFNUFCNDkyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhFNjY4MzVGRDVDRjExRThBOTEwQ0ZCQzZFNUFCNDkyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEU2NjgzNUNENUNGMTFFOEE5MTBDRkJDNkU1QUI0OTIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEU2NjgzNURENUNGMTFFOEE5MTBDRkJDNkU1QUI0OTIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4wGhMhAAAF20lEQVR42uycXWwUVRTHz0LbrS01BhA0CoEQFRoTU41ZotXE+qA8IBQjqKH6gGIl8TM+EH0wPvgRQ/zCKJiYKH7Fj7SClPhUE9KaApGExNDqgxBdX7BWoXR1d+mu58yckWX3zuzO7sycu7PzT/7NdiY7c+5v771zv+bG8vk8RHKvJvoz3d8fkXChjl27THBCakHfiL4OfS16OfpK9EL0PDbpLHsSnUSfQP+IPoY+gs6I5bgAtRK9Dn0buhvdXsF3LIiXMeBCzaBH0N+h96InwgRuPvp+9GZ0wuNrE/g72K+gD6E/Rn+KnvIzUXN8vDYVvXfQv6F3+gBNpQTfi+75LsdQN+CoSO1G/4R+FN0mUAXRPfs5Borlcp3B0bWeQI+jt6KbNXgANnMsExzbXN3AUZH4Hv0G+hINWxAXc2yjXhVfL8D1oo8GVId5UQdSrHdLgqPvvoYe0DSX2Yli/Qr9ei1Ft1pwLfzIf6qOOwBPoj/htAQCrgN9AL0pBL2nTZyWDr/B0a/zNfr2EHU9KS373Tab3ICj+uADdE8I++23oj9zU+e5AUcPgvtCPOhxF6fRU3DUz3wcwi9KY59X4K7ifl+jiNJ6da3g6PweOD821giiEZcPy7EpN6z0EHp1kFHPWbQI4r29MHfVKuP/2fFxSA8OQu7UqSDDoDQ/zAMErnPcpeiXAoW2eDG0bd8OTV1dEGttNUyf6RidC1gvMgPX4F5ALwgy0vj69RBrK21O0TE6F7AWMANX4K5Abwk6Uqt4Ks91dkrUd1uYRcXgnqm2D1dbWXUoALGYBLgWZlEROMqiWyWizJ8+XdU5n/WIqspSgbsXZIa7IT89XdU5n3WRqsekAtcnFaFjjjtzRrJtt7kcOJr3FBvJdcxxsuASzMYWXK9kdDkHOMLgStgUg1sjGZkTnJw8uDV24FpBeMJF04dDYXFtVYG7QaTtVh8PB6tNd70KXJd0ZBo/HCwpwXWKg9M7x13AqBDcMnFwmQzk0+mKjwtouQrcEh0iU+Uswe5WsZaowC3UApyintPgiVrCqBBcuxbgFLlLk/rtAkaF4Dq0zXH6gJvn1MkXlaqHoBE4Zc9Bi4pEBSmnD7izKnAz2j5V9Xk4zKjA/Rk1R8pqUgXu16g5UlZJFbiT2jZH9Mlxv6jAHdcCXCZT0TEhHVeBO6ZPmySn/iyvoypwYi+UORVNjYppxg7cv2C+CyWu9NAQ5FMpw/RZEx1mRoaKVyt9i75FOsLsyIhhzXTArudAGoRIdhp0AjfOdV2k0mI64QSOtCfiVKKPig+oVmTSsvVXwVwzEbyamiC+YQM0JxLGCqXs2BikBwYAzp2TgvYPM4FyOY76rLuloiRoLT09EGtvNxYU0uf42rWSue09VT/ebjxuh1Sbzshpxce6uyXbbjtUJ+zA/Y5+P6raDAZJN+BIz4PAUFP2UGkbPDs6KgFtihmAW3B/oJ8LvNeAD4LM8PD/PQf6nN63TwLcs8xAqRhtEeSw0w2BpZ97dYMVUcr2N9EQg+ok7XRTbrKGvvggFIy1N4BoePwBO2iVFFVLP6O3NRC4bZxmqBWc1XJ+qwGg7ay05+RmXvVp9OchhvYFuNhjwA24WS77wyGERmnq4zR6Ds5qSdMi4oMhgnaQ0+Sqp1TNEgia+KSFxN+EANoQp8X1UoFq146k+Fd6s46hUezrOC0QFDirzqNNT+5B/11HwGj2ZyPHPlvtRbxYrUTb7dCi4rE6gEYx0iLxL2u9kFfLvGjfypvBfNNuSkNgFFM/x3jCiwt6uT6Ouig06HcNmAOhOszRZjgWKybPZrf9WFg4yb/uCjD3bEsJAEvxvVdwLJNe38DPFZlJbokvRT8GwcyeHeF7LeV7J/26URC7stJg6NvsldyMuRPMd6PiHhRFqvBpIp3mPUO1nW2hKGEvs2kWjd4fszZQXgbmewT0Gjct5KYV3lkwh7T+AnO4h4b0T8L5DZR/AHMWKnBJ7jxNCR5h151i0Sbx1ek/AQYA07mgTMvXq98AAAAASUVORK5CYII="},mSeu:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("L9TO"),n=(e("3f40"),e("4qOc"),e("+cgv"),e("G0J2")),o=e("GH0r");n.Quill.register("modules/ImageExtend",o.a);var a=[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{font:[]}],[{align:[]}],["link","image"],["clean"]],c={components:{quillEditor:n.quillEditor},data:function(){return{editorOption:{modules:{ImageExtend:{loading:!0,name:"file",action:"http://47.105.184.58:8080/qs-one-0.0.1-SNAPSHOT/api/web/uploadfile",response:function(t,i){return t.data.url},start:function(){},end:function(){},change:function(t,i){}},toolbar:{container:a,handlers:{image:function(){o.b.emit(this.quill.id)}}}}},notice_title:"",notice_content:"",nowPage:1,pageSize:5,newsList:[],pageInfo:"",id:"",isHot:"",isTop:"",modal1:!1}},methods:{toDetail:function(t){this.$router.push({name:"/new_detail",params:{id:t}})},editHot:function(t,i){var e=this;t.isTop?this.isTop="1":this.isTop="0";var n={isHot:i,isTop:this.isTop};Object(s.i)(t.id,n).then(function(t){2e4===t.data.code?(e.$Message.success("修改成功"),e.getAllNewsList()):e.$Message.error("修改失败")})},editRec:function(t,i){var e=this;t.isHot?this.isHot="1":this.isHot="0",this.$http({url:"http://47.105.184.58:8080/qs-one-0.0.1-SNAPSHOT/api/web/news/"+t.id,method:"PUT",data:{isHot:this.isHot,isTop:i}}).then(function(t){2e4===t.data.code?(e.$Message.success("修改成功"),e.getAllNewsList()):e.$Message.error("修改失败")})},delNews:function(t){this.modal1=!0,this.id=t},cancel:function(){this.modal1=!1},ok:function(){var t=this;Object(s.a)(this.id).then(function(i){i.data.data?(t.$Message.success("新闻已删除"),t.getAllNewsList()):t.$Message.error("新闻删除失败")})},getAllNewsList:function(){var t=this;Object(s.e)("",this.nowPage,this.pageSize).then(function(i){t.newsList=i.data.data.newsList})},changePage:function(t){this.nowPage=t,this.getAllNewsList()},publishNotice:function(){var t=this;this.notice_title?this.notice_content?Object(s.h)(this.notice_title,this.notice_content,this.$store.state.loginStatus,0).then(function(i){2e4===i.data.code?(t.getAllNewsList(),t.notice_title="",t.notice_content="",t.$Message.success("公告已发布")):t.$Message.error("公告发布失败")}):this.$Message.error("公告内容不能为空！"):this.$Message.error("公告标题不能为空！")}},activated:function(){var t=this;this.getAllNewsList(),Object(s.e)("").then(function(i){t.pageInfo=i.data.data.page})}},l={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"detail-wrap1"},[s("div",{staticClass:"admin-left"},[s("div",{staticClass:"product-board1"},[s("h1",{staticClass:"news-header"},[t._v("\n        新闻管理\n      ")]),t._v(" "),s("table",{staticStyle:{width:"100%"}},[t._m(0),t._v(" "),t._l(t.newsList,function(i,e){return s("tr",{key:e,staticClass:"td-sty"},[s("td",{staticClass:"title-sty",on:{click:function(e){t.toDetail(i.id)}}},[t._v(t._s(i.title))]),t._v(" "),s("td",[t._v(t._s(i.userId))]),t._v(" "),s("td",[t._v(t._s(i.createTime))]),t._v(" "),s("td",[i.isTop?s("Button",{attrs:{type:"warning",size:"default",ghost:""},on:{click:function(e){t.editRec(i,"0")}}},[t._v("取消推荐")]):s("Button",{attrs:{type:"primary",size:"default",ghost:""},on:{click:function(e){t.editRec(i,"1")}}},[t._v("推荐新闻")]),t._v(" "),i.isHot?s("Button",{attrs:{type:"warning",size:"default",ghost:""},on:{click:function(e){t.editHot(i,"0")}}},[t._v("取消热榜")]):s("Button",{attrs:{type:"error",size:"default",ghost:""},on:{click:function(e){t.editHot(i,"1")}}},[t._v("设为热榜")]),t._v(" "),s("Icon",{staticClass:"del-icon",attrs:{size:"26",type:"ios-trash-outline"},on:{click:function(e){t.delNews(i.id)}}})],1)])})],2),t._v(" "),s("div",{staticClass:"page-box"},[s("Page",{attrs:{total:Number(t.pageInfo.totalRecord),"page-size":Number(t.pageSize),current:t.nowPage,size:"small"},on:{"on-change":t.changePage}})],1)])]),t._v(" "),s("div",{staticClass:"admin-right"},[s("div",{staticClass:"product-board1"},[s("h1",{staticClass:"news-header"},[t._v("\n        发布公告\n      ")]),t._v(" "),s("div",{staticClass:"flex-box-no"},[s("label",[t._v("标题：")]),t._v(" "),s("Input",{staticStyle:{width:"414px"},attrs:{placeholder:"请输入标题"},model:{value:t.notice_title,callback:function(i){t.notice_title=i},expression:"notice_title"}})],1),t._v(" "),s("quill-editor",{ref:"myQuillEditor",staticStyle:{"max-width":"460px","min-width":"460px","margin-top":"15px",background:"#fff"},attrs:{options:t.editorOption},model:{value:t.notice_content,callback:function(i){t.notice_content=i},expression:"notice_content"}}),t._v(" "),s("div",{staticClass:"btn-box"},[s("Button",{attrs:{type:"primary",current:t.nowPage},on:{click:t.publishNotice}},[t._v("发布公告")])],1)],1)]),t._v(" "),s("Modal",{attrs:{title:"提示"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.modal1,callback:function(i){t.modal1=i},expression:"modal1"}},[s("p",{staticStyle:{"text-align":"center"}},[s("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e("MoW3")}})]),t._v(" "),s("p",{staticStyle:{"text-align":"center","font-size":"20px"}},[t._v("删除后将不能恢原，确认删除该新闻吗？")])])],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("tr",{staticClass:"th-sty"},[i("th",{staticStyle:{width:"35%"}},[this._v("标题")]),this._v(" "),i("th",{staticStyle:{width:"12%"}},[this._v("作者ID")]),this._v(" "),i("th",{staticStyle:{width:"22%"}},[this._v("发布时间")]),this._v(" "),i("th",{staticStyle:{width:"31%"}},[this._v("操作")])])}]};var d=e("VU/8")(c,l,!1,function(t){e("sTVO"),e("u5j8")},null,null);i.default=d.exports},sTVO:function(t,i){},u5j8:function(t,i){}});
//# sourceMappingURL=4.c6c2db02a5a3fa9176ea.js.map