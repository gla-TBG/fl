{"version":3,"sources":["webpack:///./src/assets/ico-warning.png","webpack:///src/pages/adminPage.vue","webpack:///./src/pages/adminPage.vue?4864","webpack:///./src/pages/adminPage.vue"],"names":["module","exports","vue_quill_editor","register","quill_image_extend_module","toolbarOptions","list","font","align","components","quillEditor","data","editorOption","modules","ImageExtend","loading","name","action","response","res","file","url","start","end","change","xhr","formData","toolbar","container","handlers","image","emit","this","quill","id","notice_title","notice_content","nowPage","pageSize","newsList","pageInfo","isHot","isTop","modal1","methods","toDetail","$router","push","params","editHot","item","sen","_this","query","Object","news","then","code","$Message","success","getAllNewsList","error","editRec","_this2","$http","method","delNews","cancel","ok","_this3","_this4","changePage","page","publishNotice","_this5","$store","state","loginStatus","activated","_this6","pages_adminPage","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","_m","_l","index","key","on","click","$event","_s","title","userId","createTime","attrs","type","size","ghost","total","Number","totalRecord","page-size","current","on-change","placeholder","model","value","callback","$$v","expression","ref","max-width","min-width","margin-top","background","options","on-ok","on-cancel","text-align","height","src","__webpack_require__","font-size","staticRenderFns","Component","normalizeComponent","adminPage","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.c6c2db02a5a3fa9176ea.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhFNjY4MzVFRDVDRjExRThBOTEwQ0ZCQzZFNUFCNDkyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhFNjY4MzVGRDVDRjExRThBOTEwQ0ZCQzZFNUFCNDkyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEU2NjgzNUNENUNGMTFFOEE5MTBDRkJDNkU1QUI0OTIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEU2NjgzNURENUNGMTFFOEE5MTBDRkJDNkU1QUI0OTIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4wGhMhAAAF20lEQVR42uyc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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/ico-warning.png\n// module id = MoW3\n// module chunks = 3 4","<template>\r\n  <div class=\"detail-wrap1\">\r\n    <div class=\"admin-left\">\r\n      <div class=\"product-board1\">\r\n        <h1 class=\"news-header\">\r\n          新闻管理\r\n        </h1>\r\n        <table style=\"width:100%\">\r\n          <tr class=\"th-sty\">\r\n            <th style=\"width: 35%\">标题</th>\r\n            <th style=\"width: 12%\">作者ID</th>\r\n            <th style=\"width: 22%\">发布时间</th>\r\n            <th style=\"width: 31%\">操作</th>\r\n          </tr>\r\n          <tr class=\"td-sty\" v-for=\"(item, index) in newsList\" :key=\"index\">\r\n            <td class=\"title-sty\" @click=\"toDetail(item.id)\">{{item.title}}</td>\r\n            <td>{{item.userId}}</td>\r\n            <td>{{item.createTime}}</td>\r\n            <td>\r\n              <Button type=\"primary\" @click=\"editRec(item, '1')\" size=\"default\" v-if=\"!item.isTop\" ghost>推荐新闻</Button>\r\n              <Button type=\"warning\" @click=\"editRec(item, '0')\" size=\"default\" v-else ghost>取消推荐</Button>\r\n              <Button type=\"error\" @click=\"editHot(item, '1')\" size=\"default\" v-if=\"!item.isHot\" ghost>设为热榜</Button>\r\n              <Button type=\"warning\" @click=\"editHot(item, '0')\" size=\"default\" v-else ghost>取消热榜</Button>\r\n              <Icon class=\"del-icon\" size=\"26\" type=\"ios-trash-outline\" @click=\"delNews(item.id)\"/>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n        <div class=\"page-box\">\r\n          <Page :total=\"Number(pageInfo.totalRecord)\" @on-change=\"changePage\" :page-size=\"Number(pageSize)\" :current=\"nowPage\" size=\"small\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"admin-right\">\r\n      <div class=\"product-board1\">\r\n        <h1 class=\"news-header\">\r\n          发布公告\r\n        </h1>\r\n        <div class=\"flex-box-no\">\r\n          <label>标题：</label>\r\n          <Input v-model=\"notice_title\" placeholder=\"请输入标题\" style=\"width: 414px\" />\r\n        </div>\r\n        <quill-editor v-model=\"notice_content\"\r\n                      ref=\"myQuillEditor\"\r\n                      :options=\"editorOption\"\r\n                      style=\"max-width: 460px;min-width:460px; margin-top: 15px;background: #fff;\">\r\n        </quill-editor>\r\n        <div class=\"btn-box\">\r\n          <Button type=\"primary\" :current=\"nowPage\" @click=\"publishNotice\">发布公告</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Modal\r\n      v-model=\"modal1\"\r\n      title=\"提示\"\r\n      @on-ok=\"ok\"\r\n      @on-cancel=\"cancel\">\r\n      <p style=\"text-align: center\">\r\n        <img src=\"@/assets/ico-warning.png\" style=\"width:80px;height:80px\">\r\n      </p>\r\n      <p style=\"text-align:center;font-size:20px\">删除后将不能恢原，确认删除该新闻吗？</p>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getSeacrhListApi, publishNoticeApi, delNewsApi, setNewsTypeApi } from '@/api/news.js'\r\n\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\nimport { quillEditor, Quill } from 'vue-quill-editor'\r\nimport {container, ImageExtend, QuillWatch} from 'quill-image-extend-module'\r\n\r\nQuill.register('modules/ImageExtend', ImageExtend)\r\nconst toolbarOptions = [\r\n  ['bold', 'italic', 'underline', 'strike'], // eslint-disable-line       \r\n  ['blockquote', 'code-block'],   // eslint-disable-line        \r\n  [{'list': 'ordered'}, {'list': 'bullet'}], // eslint-disable-line\r\n  [{'font': []}], // eslint-disable-line\r\n  [{'align': []}], // eslint-disable-line\r\n  ['link', 'image'], // eslint-disable-line\r\n  ['clean']   // eslint-disable-line                                     \r\n]\r\nexport default {\r\n  components: {\r\n    quillEditor\r\n  },\r\n  data () {\r\n    return {\r\n      editorOption: {\r\n        modules: {\r\n          ImageExtend: {\r\n            loading: true,\r\n            name: 'file',\r\n            action: 'http://47.105.184.58:8080/qs-one-0.0.1-SNAPSHOT/api/web/uploadfile',\r\n            response: (res, file) => {\r\n              return res.data.url\r\n            },\r\n            start: () => {}, // 自定义开始上传触发事件\r\n            end: () => {}, // 自定义上传结束触发的事件，无论成功或者失败\r\n            change: (xhr, formData) => {\r\n            }\r\n          },\r\n          toolbar: {\r\n            container: toolbarOptions,\r\n            handlers: {\r\n              'image': function () {\r\n                QuillWatch.emit(this.quill.id)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      notice_title: '',\r\n      notice_content: '',\r\n      nowPage: 1,\r\n      pageSize: 5,\r\n      newsList: [],\r\n      pageInfo: '',\r\n      id: '',\r\n      isHot: '',\r\n      isTop: '',\r\n      modal1: false\r\n    }\r\n  },\r\n  methods: {\r\n    toDetail (id) {\r\n      this.$router.push({\r\n        name: '/new_detail',\r\n        params: {\r\n          id: id\r\n        }\r\n      })\r\n    },\r\n    editHot (item, sen) {\r\n      if (item.isTop) {\r\n        this.isTop = '1'\r\n      } else {\r\n        this.isTop = '0'\r\n      }\r\n      const query = {\r\n        isHot: sen,\r\n        isTop: this.isTop\r\n      }\r\n      setNewsTypeApi(item.id, query).then(res => {\r\n        if (res.data.code === 20000) {\r\n          this.$Message.success('修改成功')\r\n          this.getAllNewsList()\r\n        } else {\r\n          this.$Message.error('修改失败')\r\n        }\r\n      })\r\n    },\r\n    editRec (item, sen) {\r\n      if (item.isHot) {\r\n        this.isHot = '1'\r\n      } else {\r\n        this.isHot = '0'\r\n      }\r\n      this.$http({\r\n        url: 'http://47.105.184.58:8080/qs-one-0.0.1-SNAPSHOT/api/web/news/' + item.id,\r\n        method: 'PUT',\r\n        data: {\r\n          isHot: this.isHot,\r\n          isTop: sen\r\n        }\r\n      }).then(res => {\r\n        if (res.data.code === 20000) {\r\n          this.$Message.success('修改成功')\r\n          this.getAllNewsList()\r\n        } else {\r\n          this.$Message.error('修改失败')\r\n        }\r\n      })\r\n    },\r\n    delNews (id) {\r\n      this.modal1 = true\r\n      this.id = id\r\n    },\r\n    cancel () {\r\n      this.modal1 = false\r\n    },\r\n    ok () {\r\n      delNewsApi(this.id).then(res => {\r\n        if (res.data.data) {\r\n          this.$Message.success('新闻已删除')\r\n          this.getAllNewsList()\r\n        } else {\r\n          this.$Message.error('新闻删除失败')\r\n        }\r\n      })\r\n    },\r\n    getAllNewsList () {\r\n      getSeacrhListApi('', this.nowPage, this.pageSize).then(res => {\r\n        this.newsList = res.data.data.newsList\r\n      })\r\n    },\r\n    changePage (page) {\r\n      this.nowPage = page\r\n      this.getAllNewsList()\r\n    },\r\n    publishNotice () {\r\n      if (!this.notice_title) {\r\n        this.$Message.error('公告标题不能为空！')\r\n      } else if (!this.notice_content) {\r\n        this.$Message.error('公告内容不能为空！')\r\n      } else {\r\n        publishNoticeApi(this.notice_title, this.notice_content, this.$store.state.loginStatus, 0).then(res => {\r\n          if (res.data.code === 20000) {\r\n            this.getAllNewsList()\r\n            this.notice_title = ''\r\n            this.notice_content = ''\r\n            this.$Message.success('公告已发布')\r\n          } else {\r\n            this.$Message.error('公告发布失败')\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  activated () {\r\n    this.getAllNewsList()\r\n    getSeacrhListApi('').then(res => {\r\n      this.pageInfo = res.data.data.page\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .detail-wrap1{\r\n    display: flex;\r\n    padding-top: 90px;\r\n  }\r\n  .admin-left{\r\n    width: 58%;\r\n    margin-right: 2%;\r\n    background: #fff\r\n  }\r\n  .admin-right{\r\n    width: 40%;\r\n    background: #fff;\r\n  }\r\n  .product-board1{\r\n    padding: 30px;\r\n  }\r\n  .news-header{\r\n    color: #2d8cf0;\r\n    font-size: 28px;\r\n    margin-bottom: 25px;\r\n  }\r\n  .th-sty{\r\n    background: #5cadff;\r\n    line-height: 38px;\r\n    color: #fff;\r\n  }\r\n  .th-sty>th:first-child{\r\n    border-top-left-radius: 4px;\r\n    border-bottom-left-radius: 4px;\r\n  }\r\n  .th-sty>th:last-child{\r\n    border-top-right-radius: 4px;\r\n    border-bottom-right-radius: 4px;\r\n  }\r\n  .td-sty td{\r\n    text-align: center;\r\n    padding: 10px;\r\n    border-bottom: 1px solid #e8eaec\r\n  }\r\n  .page-box{\r\n    margin-top:15px;\r\n    display: flex;\r\n    justify-content: center\r\n  }\r\n  .btn-box{\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top:15px;\r\n  }\r\n  .title-sty{\r\n    cursor: pointer;\r\n    color:#5cadff;\r\n  }\r\n  .flex-box-no{\r\n    display: flex;\r\n    padding: 0px;\r\n  }\r\n  .flex-box-no label{\r\n    line-height: 32px;\r\n  }\r\n</style>\r\n<style>\r\n  .ql-container{\r\n    max-height: 200px;\r\n    min-height: 200px;\r\n  }\r\n  .del-icon{\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/adminPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-wrap1\"},[_c('div',{staticClass:\"admin-left\"},[_c('div',{staticClass:\"product-board1\"},[_c('h1',{staticClass:\"news-header\"},[_vm._v(\"\\n        新闻管理\\n      \")]),_vm._v(\" \"),_c('table',{staticStyle:{\"width\":\"100%\"}},[_vm._m(0),_vm._v(\" \"),_vm._l((_vm.newsList),function(item,index){return _c('tr',{key:index,staticClass:\"td-sty\"},[_c('td',{staticClass:\"title-sty\",on:{\"click\":function($event){_vm.toDetail(item.id)}}},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.userId))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.createTime))]),_vm._v(\" \"),_c('td',[(!item.isTop)?_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"default\",\"ghost\":\"\"},on:{\"click\":function($event){_vm.editRec(item, '1')}}},[_vm._v(\"推荐新闻\")]):_c('Button',{attrs:{\"type\":\"warning\",\"size\":\"default\",\"ghost\":\"\"},on:{\"click\":function($event){_vm.editRec(item, '0')}}},[_vm._v(\"取消推荐\")]),_vm._v(\" \"),(!item.isHot)?_c('Button',{attrs:{\"type\":\"error\",\"size\":\"default\",\"ghost\":\"\"},on:{\"click\":function($event){_vm.editHot(item, '1')}}},[_vm._v(\"设为热榜\")]):_c('Button',{attrs:{\"type\":\"warning\",\"size\":\"default\",\"ghost\":\"\"},on:{\"click\":function($event){_vm.editHot(item, '0')}}},[_vm._v(\"取消热榜\")]),_vm._v(\" \"),_c('Icon',{staticClass:\"del-icon\",attrs:{\"size\":\"26\",\"type\":\"ios-trash-outline\"},on:{\"click\":function($event){_vm.delNews(item.id)}}})],1)])})],2),_vm._v(\" \"),_c('div',{staticClass:\"page-box\"},[_c('Page',{attrs:{\"total\":Number(_vm.pageInfo.totalRecord),\"page-size\":Number(_vm.pageSize),\"current\":_vm.nowPage,\"size\":\"small\"},on:{\"on-change\":_vm.changePage}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"admin-right\"},[_c('div',{staticClass:\"product-board1\"},[_c('h1',{staticClass:\"news-header\"},[_vm._v(\"\\n        发布公告\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex-box-no\"},[_c('label',[_vm._v(\"标题：\")]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"414px\"},attrs:{\"placeholder\":\"请输入标题\"},model:{value:(_vm.notice_title),callback:function ($$v) {_vm.notice_title=$$v},expression:\"notice_title\"}})],1),_vm._v(\" \"),_c('quill-editor',{ref:\"myQuillEditor\",staticStyle:{\"max-width\":\"460px\",\"min-width\":\"460px\",\"margin-top\":\"15px\",\"background\":\"#fff\"},attrs:{\"options\":_vm.editorOption},model:{value:(_vm.notice_content),callback:function ($$v) {_vm.notice_content=$$v},expression:\"notice_content\"}}),_vm._v(\" \"),_c('div',{staticClass:\"btn-box\"},[_c('Button',{attrs:{\"type\":\"primary\",\"current\":_vm.nowPage},on:{\"click\":_vm.publishNotice}},[_vm._v(\"发布公告\")])],1)],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"提示\"},on:{\"on-ok\":_vm.ok,\"on-cancel\":_vm.cancel},model:{value:(_vm.modal1),callback:function ($$v) {_vm.modal1=$$v},expression:\"modal1\"}},[_c('p',{staticStyle:{\"text-align\":\"center\"}},[_c('img',{staticStyle:{\"width\":\"80px\",\"height\":\"80px\"},attrs:{\"src\":require(\"@/assets/ico-warning.png\")}})]),_vm._v(\" \"),_c('p',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"20px\"}},[_vm._v(\"删除后将不能恢原，确认删除该新闻吗？\")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"th-sty\"},[_c('th',{staticStyle:{\"width\":\"35%\"}},[_vm._v(\"标题\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"width\":\"12%\"}},[_vm._v(\"作者ID\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"width\":\"22%\"}},[_vm._v(\"发布时间\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"width\":\"31%\"}},[_vm._v(\"操作\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a5299eb\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/adminPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a5299eb\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./adminPage.vue\")\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a5299eb\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./adminPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./adminPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./adminPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a5299eb\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./adminPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/adminPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}